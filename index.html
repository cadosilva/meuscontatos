<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhas Redes Sociais - Jogo Melhorado</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <!-- Banner -->
    <div class="header">
        <img src="banner.jpg" alt="Banner">
    </div>

    <div class="container">
        <h1>Bem-vindo às minhas redes sociais!</h1>
        <p>Escolha a rede social que deseja acessar:</p>
        
        <div class="links">
            <a href="https://www.facebook.com/profile.php?id=100004529502599" target="_blank">
                <i class="fab fa-facebook"></i> Facebook
            </a>
            <a href="https://www.youtube.com/@cadogames7229" target="_blank">
                <i class="fab fa-youtube"></i> YouTube
            </a>
            <a href="https://www.tiktok.com/@cadosilvasc" target="_blank">
                <i class="fab fa-tiktok"></i> TikTok
            </a>
            <a href="https://www.instagram.com/cado_silvasc/" target="_blank">
                <i class="fab fa-instagram"></i> Instagram
            </a>
            <a href="https://www.twitch.tv/cadogamesof" target="_blank">
                <i class="fab fa-twitch"></i> Twitch
            </a>
            <a href="https://kick.com/cadosilva" target="_blank">
                <i class="fas fa-gamepad"></i> Kick
            </a>
        </div>

        <!-- QR Code -->
        <div class="qr-code">
            <img src="whatsapp-qr.jpeg" alt="QR Code do WhatsApp">
            <p>Escaneie esse código para me adicionar no WhatsApp!</p>
        </div>

        <!-- Login Interno -->
        <div class="login">
            <h2>Login para continuar o progresso</h2>
            <label for="nickname">Nickname: </label>
            <input type="text" id="loginNickname" placeholder="Digite seu nickname">
            
            <label for="password">Senha: </label>
            <input type="password" id="loginPassword" placeholder="Digite sua senha">
            
            <button onclick="login()">Login / Criar Conta</button>
        </div>

        <!-- Seleção de Classe -->
        <div class="start-game" style="display: none;">
            <h2>Escolha sua Classe</h2>
            <label for="class">Classe: </label>
            <select id="class">
                <option value="guerreiro">Guerreiro</option>
                <option value="mago">Mago</option>
                <option value="arqueiro">Arqueiro</option>
            </select>
            <button onclick="startGame()">Iniciar Jogo</button>
        </div>

        <!-- Jogo Melhorado -->
        <div class="game" style="display: none;">
            <h2 id="playerNameTitle"></h2>
            <div class="status">
                <p><strong>Classe: <span id="playerClass"></span></strong></p>
                <p><strong>Vida:</strong> <span id="playerHealth">100</span> | Mana: <span id="playerMana">100</span> | XP: <span id="playerXP">0</span> | Ouro: <span id="playerGold">0</span></p>
                <p><strong>Inimigo</strong> - Vida: <span id="enemyHealth">100</span></p>
            </div>
            <div class="inventory">
                <p>Inventário: <span id="inventory">Nada</span></p>
            </div>
            <p id="gameMessage">Você encontrou um inimigo! Escolha uma ação:</p>
            <button onclick="attack()">Atacar</button>
            <button onclick="useAbility()">Usar Habilidade</button>
            <button onclick="defend()">Defender</button>
            <button onclick="run()">Fugir</button>
            <button onclick="goToCity()">Ir para a Cidade</button>
        </div>

        <!-- Loja na Cidade -->
        <div class="city" style="display: none;">
            <h2>Bem-vindo à Cidade</h2>
            <p>Você pode comprar itens para se fortalecer.</p>
            <button onclick="buyItem('poção')">Comprar Poção de Cura (20 Ouro)</button>
            <button onclick="buyItem('espada')">Comprar Espada Melhorada (50 Ouro)</button>
            <button onclick="buyItem('mana')">Comprar Poção de Mana (20 Ouro)</button>
            <button onclick="leaveCity()">Sair da Cidade</button>
        </div>

        <script>
            let playerHealth = 100;
            let playerMana = 100;
            let enemyHealth = 100;
            let playerXP = 0;
            let playerGold = 0;
            let playerLevel = 1;
            let inventory = [];
            let playerClass = '';
            let playerNickname = '';
            let playerPassword = '';
            let currentPlayerData = null;

            const MAX_LEVEL = 50;
            const MANA_COST = 20; // Mana necessária para usar habilidades especiais

            // Login / Criar conta
            function login() {
                playerNickname = document.getElementById('loginNickname').value;
                playerPassword = document.getElementById('loginPassword').value;

                if (!playerNickname || !playerPassword) {
                    alert('Por favor, insira seu nickname e senha.');
                    return;
                }

                const savedData = localStorage.getItem(playerNickname);

                if (savedData) {
                    // Se os dados do jogador existirem, verificamos a senha para login
                    const data = JSON.parse(savedData);
                    if (data.password === playerPassword) {
                        currentPlayerData = data;
                        loadPlayerData();  // Carrega os dados do jogador
                        document.querySelector('.login').style.display = 'none';
                        document.querySelector('.game').style.display = 'block';
                    } else {
                        alert('Senha incorreta!');
                    }
                } else {
                    // Se os dados não existirem, criamos uma nova conta
                    currentPlayerData = {
                        nickname: playerNickname,
                        password: playerPassword,
                        level: 1,
                        xp: 0,
                        gold: 50,  // Adicionando 50 de ouro inicial
                        class: '',
                        health: 100,
                        mana: 100,
                        inventory: []
                    };
                    localStorage.setItem(playerNickname, JSON.stringify(currentPlayerData));
                    document.querySelector('.login').style.display = 'none';
                    document.querySelector('.start-game').style.display = 'block';
                }
            }

            // Iniciar o jogo (após selecionar a classe)
            function startGame() {
                playerClass = document.getElementById('class').value;
                currentPlayerData.class = playerClass;
                currentPlayerData.health = playerClass === 'guerreiro' ? 120 : playerClass === 'mago' ? 80 : 100;
                currentPlayerData.mana = playerClass === 'mago' ? 150 : 100; // Magos têm mais mana
                savePlayerData();

                document.getElementById('playerNameTitle').innerText = `Jogador: ${playerNickname}`;
                document.getElementById('playerClass').innerText = playerClass;
                document.querySelector('.start-game').style.display = 'none';
                document.querySelector('.game').style.display = 'block';

                updateStatus();
            }

            // Atualizar status
            function updateStatus() {
                document.getElementById('playerHealth').innerText = currentPlayerData.health;
                document.getElementById('playerMana').innerText = currentPlayerData.mana;
                document.getElementById('playerXP').innerText = currentPlayerData.xp;
                document.getElementById('playerGold').innerText = currentPlayerData.gold;
                document.getElementById('inventory').innerText = currentPlayerData.inventory.length > 0 ? currentPlayerData.inventory.join(', ') : 'Nada';
                savePlayerData();  // Salvar dados após cada atualização
            }

            // Salvar dados no LocalStorage
            function savePlayerData() {
                localStorage.setItem(playerNickname, JSON.stringify(currentPlayerData));
            }

            // Carregar dados do jogador
            function loadPlayerData() {
                if (currentPlayerData) {
                    playerClass = currentPlayerData.class;
                    playerHealth = currentPlayerData.health;
                    playerMana = currentPlayerData.mana;
                    playerXP = currentPlayerData.xp;
                    playerGold = currentPlayerData.gold;
                    inventory = currentPlayerData.inventory;
                    document.getElementById('playerNameTitle').innerText = `Jogador: ${currentPlayerData.nickname}`;
                    updateStatus();
                }
            }

            // Atacar
            function attack() {
                const playerDamage = Math.floor(Math.random() * 20) + 1;
                const enemyDamage = Math.floor(Math.random() * 15) + 1;

                currentPlayerData.health -= enemyDamage;
                enemyHealth -= playerDamage;

                if (enemyHealth <= 0) {
                    gainXP(50);
                    currentPlayerData.gold += 20;
                    document.getElementById('gameMessage').innerText = "Você derrotou o inimigo! Ganhou 50 XP e 20 de ouro.";
                    resetEnemy();
                } else if (currentPlayerData.health <= 0) {
                    playerDeath();
                } else {
                    document.getElementById('gameMessage').innerText = `Você causou ${playerDamage} de dano! O inimigo causou ${enemyDamage} de dano em você!`;
                }

                updateStatus();
            }

            // Usar habilidade especial
            function useAbility() {
                if (currentPlayerData.mana >= MANA_COST) {
                    currentPlayerData.mana -= MANA_COST;
                    const specialDamage = Math.floor(Math.random() * 50) + 10;
                    enemyHealth -= specialDamage;
                    document.getElementById('gameMessage').innerText = `Você usou uma habilidade especial e causou ${specialDamage} de dano!`;
                    
                    if (enemyHealth <= 0) {
                        gainXP(50);
                        currentPlayerData.gold += 20;
                        document.getElementById('gameMessage').innerText += " Você derrotou o inimigo!";
                        resetEnemy();
                    }
                } else {
                    document.getElementById('gameMessage').innerText = "Mana insuficiente para usar a habilidade especial!";
                }
                updateStatus();
            }

            // Ganhar XP
            function gainXP(amount) {
                if (playerLevel < MAX_LEVEL) {
                    currentPlayerData.xp += amount;
                    if (currentPlayerData.xp >= playerLevel * 100) {
                        currentPlayerData.xp = 0;
                        currentPlayerData.level++;
                        document.getElementById('gameMessage').innerText += ` Parabéns, você subiu para o nível ${playerLevel}!`;
                    }
                }
                updateStatus();
            }

            // Morte do jogador
            function playerDeath() {
                currentPlayerData.xp = Math.floor(currentPlayerData.xp * 0.8);
                document.getElementById('gameMessage').innerText = "Você morreu e perdeu 20% de sua experiência.";
                resetEnemy();
            }

            // Ir para a cidade
            function goToCity() {
                document.querySelector('.game').style.display = 'none';
                document.querySelector('.city').style.display = 'block';
            }

            // Comprar itens na cidade
            function buyItem(item) {
                if (item === 'poção' && currentPlayerData.gold >= 20) {
                    currentPlayerData.gold -= 20;
                    currentPlayerData.inventory.push("Poção de Cura");
                    document.getElementById('gameMessage').innerText = "Você comprou uma Poção de Cura!";
                } else if (item === 'espada' && currentPlayerData.gold >= 50) {
                    currentPlayerData.gold -= 50;
                    document.getElementById('gameMessage').innerText = "Você comprou uma Espada Melhorada!";
                } else if (item === 'mana' && currentPlayerData.gold >= 20) {
                    currentPlayerData.gold -= 20;
                    currentPlayerData.inventory.push("Poção de Mana");
                    document.getElementById('gameMessage').innerText = "Você comprou uma Poção de Mana!";
                } else {
                    document.getElementById('gameMessage').innerText = "Ouro insuficiente!";
                }
                updateStatus();
            }

            // Sair da cidade
            function leaveCity() {
                document.querySelector('.city').style.display = 'none';
                document.querySelector('.game').style.display = 'block';
            }

            // Resetar inimigo
            function resetEnemy() {
                enemyHealth = 100;
                updateStatus();
            }
        </script>
    </body>
</html>
